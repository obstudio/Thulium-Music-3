<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Thulium Music</title>
    <link href="index.css" rel="stylesheet">
    <link href="editor/editor.css" rel="stylesheet">
    <link href="editor/document.css" rel="stylesheet">
    <link href="node_modules/element-ui/lib/theme-chalk/index.css" rel="stylesheet">
    <link href="node_modules/element-ui/lib/theme-chalk/display.css" rel="stylesheet">
  </head>
  <body>
    <script>
      // Monaco uses a custom amd loader that overrides node's require.
      // Keep a reference to node's require so we can restore it after executing the amd loader file.
      const nodeRequire = global.require
    </script>
    <script src="node_modules/monaco-editor/min/vs/loader.js" type="text/javascript"></script>
    <script>
      // Save Monaco's amd require and restore Node's require
      const amdRequire = global.require
      global.require = nodeRequire
      const path = require('path')

      function uriFromPath(...paths) {
        const result = path.resolve(path.join(...paths)).split(path.sep)
          .map(name => name
            .replace(/#/g, '%23')
            .replace(/ /g, '%20')
          ).join('/')
        return 'file:///' + result
      }

      amdRequire.config({
        baseUrl: uriFromPath(__dirname, 'node_modules/monaco-editor/min')
      })

      // work around monaco not understanding the environment
      self.module = undefined
      self.process.browser = true
    </script>
      
    <div id="app"> <!-- content will be injected --> </div>
    <script src="index.js" type="text/javascript"></script>
  </body>
</html>
